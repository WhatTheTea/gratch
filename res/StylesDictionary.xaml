<ResourceDictionary xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                    xmlns:mah="http://metro.mahapps.com/winfx/xaml/controls">
    <!--Логотип-->
    <BitmapImage x:Key="Logo" UriSource="/gratch-desktop;component/res/grach ver2.ico"/>
    <!--Выделение кнопки в сайдбаре-->
    <Style TargetType="TabItem" x:Key="grTabItem" BasedOn="{StaticResource MahApps.Styles.TabItem}">
        <Setter Property="HeaderTemplate">
            <Setter.Value>
                <DataTemplate>
                    <StackPanel Orientation="Horizontal">
                        <Image x:Name="HeaderImage" 
                               Margin="10,0,0,0" 
                               Height="48" Width="48" 
                               Source="{StaticResource Logo}"/>
                        <TextBlock Text="{Binding Header, RelativeSource={RelativeSource AncestorType={x:Type TabItem}}}"
                                   x:Name="HeaderText"
                                   VerticalAlignment="Center"  
                                   Margin="10,0,0,0"
                                   Foreground="{StaticResource MahApps.Brushes.Gray}"/>
                    </StackPanel>
                    <DataTemplate.Triggers>
                        <DataTrigger Binding="{Binding IsSelected, RelativeSource={RelativeSource AncestorType={x:Type TabItem}}}" 
                                     Value="true">
                            <Setter TargetName="HeaderText" 
                                    Property="Foreground" 
                                    Value="{StaticResource MahApps.Brushes.Accent2}"/>
                        </DataTrigger>
                        <DataTrigger Binding="{Binding IsMouseOver, RelativeSource={RelativeSource AncestorType={x:Type TabItem}}}"
                                     Value="true">
                            <Setter TargetName="HeaderText" 
                                    Property="Foreground" 
                                    Value="{StaticResource MahApps.Brushes.Gray.MouseOver}"/>
                        </DataTrigger>
                    </DataTemplate.Triggers>
                </DataTemplate>

            </Setter.Value>

        </Setter>
    </Style>
</ResourceDictionary>

<!--
    <Style.Resources>
            <Style TargetType="StackPanel">
                <Style.Resources>

                    <Style TargetType="Label">
                        
                        <Style.Setters>
                            <Setter Property="Foreground" 
                                        Value="{StaticResource MahApps.Brushes.Gray}"/>
                            <Setter Property="HorizontalAlignment" Value="Center"/>
                        </Style.Setters>

                        <Style.Triggers>
                            <Trigger Property="{Binding IsSelected, 
                                RelativeSource={RelativeSource AncestorType={x:Type TabItem}}}"
                                Value="true">
                                <Setter Property="Foreground" Value="{StaticResource MahApps.Brushes.Accent2}"/>
                            </Trigger>
                        </Style.Triggers>

                    </Style>
                </Style.Resources>
            </Style>
        </Style.Resources>
    
    <Style.Triggers>
            <Trigger Property="IsSelected" Value="True">
                <Setter Property="Background" Value="Red"/>
            </Trigger>
            <Trigger Property="IsSelected" Value="False">
                <Setter Property="" Value="{DynamicResource }"/>
            </Trigger>
        </Style.Triggers>
    
    <Style.Resources>
            <Style TargetType="Label">
                <Style.Triggers>
                    <Trigger Property="">
                        
                    </Trigger>
                </Style.Triggers>
            </Style>
        </Style.Resources>
    
    -->